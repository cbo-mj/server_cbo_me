
function check_date_range(e){"date_range"==e ? $("#date_range").show() : $("#date_range").hide()}

function check_date_range2(e){
	var mystring = e;
	mystring = mystring.replace(/[\. ,:-_]+/g, " ");
	var nav = $('#nav');
	var selection = $('.select');	
	
	if(e == "date_range"){
		$('#date_picker_holder').show();
		$("#specific_field").val(e);
		$("#nav").text(mystring);
		$(".date_range").addClass('activeClass');
		$(".menu_container").css( "width", "220" );
		$(".menu_container").css( "width", "+=360" );
			if (nav.hasClass('active')) {
				nav.removeClass('active');
				selection.stop().slideUp(200);
			} else {
				nav.addClass('active');
				selection.stop().slideDown(200);
			}

		$("#date_range").show();
	}else{
		$('#date_picker_holder').hide();
		$("#specific_field").val(e);
		$("#nav").text(mystring);
		$(".date_range").removeClass('activeClass');
		$(".menu_container").css( "width", "220" );
		$("#date_range").hide();
	}
}

function onClose(){
	$(".menu_container").hide();
}

$(document).on("change", "#datepickerdivfrom", function () {
	 $("#from").val($(this).val());
	 //alert($(this).val());
});
$(document).on("change", "#datepickerdivto", function () {
	 $("#to").val($(this).val());
	 //alert($(this).val());
	 
});


function play_audio(e,a,t,l){player='<audio controls id="'+a+'"><source src="'+t+'" type="audio/wav">Your browser does not support the audio element. </audio>',$("#"+e).html(player),$("#"+l).hide()}function close_open_model(e,a,t){var l="."+t;jQuery(l).colorbox({inline:!0,width:"60%"})}


$(document).ready(function(){
var nav = $('#nav');
var selection = $('.select');
var select = selection.find('li');

nav.click(function(event) {
	if (nav.hasClass('active')) {
		$('.menu_container').hide();
		nav.removeClass('active');
		selection.stop().slideUp(200);
	} else {
		nav.addClass('active');
		$('.menu_container').show();
		selection.stop().slideDown(200);
	}
	event.preventDefault();
});

select.click(function(event) {
	select.removeClass('active');
	$(this).addClass('active');
	nav.trigger('click');
	//$("#date_range").css({ display: "block" });
	// alert ("location.href = 'index.php?lang=" + $(this).attr('data-value'));
	}); 
		
	$('#datepickerdivfrom').datepicker({dateFormat: "yy-mm-dd"});
	$('#datepickerdivto').datepicker({dateFormat: "yy-mm-dd"});
	$("#from").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd"}),
	$("#to").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd"})}), jQuery(function(){function e(){var e=new Array,a=[0,0,0,0,0,0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0,0,0,0],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
	
	jQuery("#call_tracking_record tbody tr").each(function(){var r=jQuery(this).find(".date_data").text().split(" - "),s=r[0].split("'");if(-1==jQuery.inArray(s[1],e)){e.push(s[1]);for(var o=0;11>=o;o++)79==s[0].indexOf(i[o])&&(a[o]+=1)}else for(var o=0;11>=o;o++)79==s[0].indexOf(i[o])&&(a[o]+=1);if(console.log(e.length),"Abandoned"==jQuery(this).find(".call_data").text())for(var d=0;11>=d;d++)79==jQuery(this).find(".date_data").text().indexOf(i[d])&&(t[d]+=1);if("Answered"==jQuery(this).find(".call_data").text())for(var n=0;11>=n;n++)79==jQuery(this).find(".date_data").text().indexOf(i[n])&&(l[n]+=1)}),AmCharts.makeChart("linechartdiv",{type:"serial",pathToImages:"https://server.cbo.me/calls/charts/images/",categoryField:"date",dataDateFormat:"YYYY-MM",colors:["#ff1b41","#1a9bef","#62c479"],theme:"light",categoryAxis:{minPeriod:"MM",parseDates:!0},chartCursor:{animationDuration:.1,bulletSize:15,categoryBalloonDateFormat:"MMM YYYY"},chartScrollbar:{},trendLines:[],graphs:[{bullet:"round",cornerRadiusTop:-3,dashLength:-5,id:"Missed Calls",title:"Missed Calls",type:"smoothedLine",valueField:"Missed"},{bullet:"diamond",bulletBorderThickness:0,columnWidth:0,id:"Total Calls",markerType:"none",negativeBase:-7,title:"Total Calls",type:"smoothedLine",valueField:"Total"},{bullet:"square",id:"Answered Calls",title:"Answered Calls",type:"smoothedLine",valueField:"Answered"}],guides:[],valueAxes:[],allLabels:[],balloon:{},legend:{align:"center",marginLeft:10,markerSize:14,rollOverGraphAlpha:.35,useGraphSettings:!0,valueAlign:"left",valueWidth:44},titles:[],dataProvider:[{date:"2014-01",Missed:t[0],Total:a[0],Answered:l[0]},{date:"2014-02",Missed:t[1],Total:a[1],Answered:l[1]},{date:"2014-03",Missed:t[2],Total:a[2],Answered:l[2]},{date:"2014-04",Missed:t[3],Total:a[3],Answered:l[3]},{date:"2014-05",Missed:t[4],Total:a[4],Answered:l[4]},{date:"2014-06",Missed:t[5],Total:a[5],Answered:l[5]},{date:"2014-07",Missed:t[6],Total:a[6],Answered:l[6]},{date:"2014-08",Missed:t[7],Total:a[7],Answered:l[7]},{date:"2014-09",Missed:t[8],Total:a[8],Answered:l[8]},{date:"2014-10",Missed:t[9],Total:a[9],Answered:l[9]},{date:"2014-11",Missed:t[10],Total:a[10],Answered:l[10]},{date:"2014-12",Missed:t[11],Total:a[11],Answered:l[11]}]})}function a(){AmCharts.makeChart("chartdiv",{type:"pie",pathToImages:"https://server.cbo.me/calls/charts/images/",balloonText:"",innerRadius:"85%",labelRadius:17,labelRadiusField:"Number",labelText:"",minRadius:8,pullOutRadius:"0%",radius:50,startRadius:"0%",baseColor:"",brightnessStep:163.2,colorField:"Not set",colors:["#1a9bef","#1a9bef"],labelTickAlpha:0,maxLabelWidth:214,outlineThickness:7,pullOutOnlyOne:!0,startDuration:2,titleField:"Not set",valueField:"Number",creditsPosition:"bottom-right",fontFamily:"Arial",fontSize:10,theme:"default",allLabels:[{align:"center",id:"Value",size:46,text:"",x:"0",y:"22%"}],balloon:{animationDuration:.06,fadeOutDuration:.18,fixedPosition:!0},titles:[],dataProvider:[{Call:"Total Calls",Number:r}]}),jQuery(".total_call_wrap span.item_details").text(r)}function t(){AmCharts.makeChart("missedchartdiv",{type:"pie",pathToImages:"https://server.cbo.me/calls/charts/images/",balloonText:"",innerRadius:"85%",labelRadius:17,labelRadiusField:"Number",labelText:"",minRadius:8,pullOutRadius:"0%",radius:50,startRadius:"0%",baseColor:"",brightnessStep:163.2,colorField:"Not set",colors:["#e95b5b","#e6e6e6"],labelTickAlpha:0,maxLabelWidth:214,outlineThickness:7,pullOutOnlyOne:!0,startDuration:2,titleField:"Not set",valueField:"Number",creditsPosition:"bottom-right",fontFamily:"Arial",fontSize:10,theme:"default",allLabels:[{align:"center",id:"Value",size:46,text:"",x:"0",y:"22%"}],balloon:{animationDuration:.06,fadeOutDuration:.18,fixedPosition:!0},titles:[],dataProvider:[{Call:"Missed Calls",Number:o},{Call:"Answered Calls",Number:s}]}),jQuery(".miss_call_wrap span.item_details").text(o)}function l(){AmCharts.makeChart("answeredchartdiv",{type:"pie",pathToImages:"https://server.cbo.me/calls/charts/images/",balloonText:"",innerRadius:"85%",labelRadius:17,labelRadiusField:"Number",labelText:"",minRadius:8,pullOutRadius:"0%",radius:50,startRadius:"0%",baseColor:"",brightnessStep:163.2,colorField:"Not set",colors:["#60c481","#e6e6e6"],labelTickAlpha:0,maxLabelWidth:214,outlineThickness:7,pullOutOnlyOne:!0,startDuration:2,titleField:"Not set",valueField:"Number",creditsPosition:"bottom-right",fontFamily:"Arial",fontSize:10,theme:"default",allLabels:[{align:"center",id:"Value",size:46,text:"",x:"0",y:"22%"}],balloon:{animationDuration:.06,fadeOutDuration:.18,fixedPosition:!0},titles:[],dataProvider:[{Call:"Answered Calls",Number:s},{Call:"Missed Calls",Number:o}]}),jQuery(".ans_call_wrap span.item_details").text(s)}function i(){var e="",a=0,t=0,l=0,i=0;jQuery(".time_data").each(function(){e=jQuery(this).text().split(":"),a+=parseInt(e[0]),t+=parseInt(e[1]),l+=parseInt(e[2]),i+=1});var r=60*a,s=r+t,o=60*s,d=o+l,n=d/60,u=n/i,c=5-u,h=u.toFixed(1);AmCharts.makeChart("averagechartdiv",{type:"pie",pathToImages:"http://cdn.amcharts.com/lib/3/images/",balloonText:"",innerRadius:"85%",labelRadius:17,labelRadiusField:"Number",labelText:"",minRadius:8,pullOutRadius:"0%",radius:50,startRadius:"0%",baseColor:"",brightnessStep:163.2,colorField:"Not set",colors:["#f1c83f","#e6e6e6"],labelTickAlpha:0,maxLabelWidth:214,outlineThickness:7,pullOutOnlyOne:!0,startDuration:2,titleField:"Not set",valueField:"Number",creditsPosition:"bottom-right",fontFamily:"Arial",fontSize:10,theme:"default",allLabels:[{align:"center",id:"Value",size:45,text:"",x:"0",y:"22%"}],balloon:{animationDuration:.06,fadeOutDuration:.18,fixedPosition:!0},titles:[],dataProvider:[{Call:"Average Call Duration",Number:h},{Call:"",Number:c}]}),jQuery(".avg_call_wrap span.item_details").text(h)}var r=12,s=3,o=2,d=2,n=jQuery("#call_tracking_record tbody .call_data").length;jQuery("#call_tracking_record tbody .call_data").each(function(){d+=1,"Answered"==jQuery(this).text()&&(r+=1,s+=1),"Abandoned"==jQuery(this).text()&&(r+=1,o+=1),d==n&&(jQuery(".total_call_wrap span").text(r),jQuery(".miss_call_wrap span").text(o),jQuery(".ans_call_wrap span").text(s),e(),i(),a(),t(),l(),jQuery.when(e()).done(function(){runTable(),jQuery(".hideIfNotLoaded").each(function(){jQuery(this).removeClass("hidden")})}))}),jQuery("#dummy_rec_length").change(function(){jQuery("#call_tracking_record_length select").val(jQuery(this).val()),jQuery("#call_tracking_record_length select").trigger("change")}),jQuery("#show-filter-form").click(function(){jQuery(".filter-form").hasClass("item-hide")?jQuery(".filter-form").removeClass("item-hide").addClass("item-show"):jQuery(".filter-form").removeClass("item-show").addClass("item-hide")}),jQuery("#cmd_default").click(function(){return jQuery(".filter-form").removeClass("item-show").addClass("item-hide"),!1}),a(),t(),l(),i(),e()});

$(document).ready(function() {
	$('.TotalVisitors').jBox('Tooltip'); $('.PageViews').jBox('Tooltip'); $('.NewVisitors').jBox('Tooltip'); $('.BounceRate').jBox('Tooltip'); $('.AvgPagesViewed').jBox('Tooltip'); $('.AvgTime').jBox('Tooltip');
});

$(document).mouseup(function (e){ var container = $("#filter-form"); if (!container.is(e.target) && container.has(e.target).length === 0) { $('#filter-form').removeClass('item-show'); $('#filter-form').addClass('item-hide'); } }); function submit_form(account_id) { var str = ""; str = "account_id=" + account_id; var url = "ajax_property_db.php"; $("#img").show(); var request = $.ajax({ url: url, type: "POST", data: str }); request.done(function(msg) { $("#ajax_result").html(msg); $("#img").hide(); }); request.fail(function(jqXHR, textStatus) { alert("Request failed: " + textStatus); return false; }); return false; }